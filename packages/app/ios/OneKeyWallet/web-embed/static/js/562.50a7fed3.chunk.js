"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[562],{91720:(e,t,n)=>{const r=n(89644).default;e.exports=class{constructor(e={}){this.httpClient=e.httpClient||r,this.appName=e.appName||"MyMonero",this.appVersion=e.appVersion||"1.3.0",this.api_key=e.api_key||null,r.defaults.baseURL=e.url||"https://api.mymonero.com"}async login(e,t,n=!1){let r={address:t,view_key:e,create_account:n,generated_locally:!0};null!==this.api_key&&(r.api_key=this.api_key);const i=await this.httpClient.post("/login",r).catch((e=>{if(void 0===e.response)throw new Error("no response");if(403===e.response.status)throw new Error("account does not exist");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}));return{isNewAddress:i.data.new_address,startHeight:i.data.start_height}}async import_wallet_auth(e,t,n=null,r=null,i=null){let o={address:e,view_key:t,api_key:this.api_key};null!==n&&(o.start_block_height=n.toString()),null!==r&&(o.start_tx_height=r.toString()),null!==i&&(o.start_date=i);return(await this.httpClient.post("/import_wallet_auth",o).catch((e=>{if(void 0===e.response)throw new Error("no response");if(403===e.response.status)throw new Error("account does not exist");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}))).data}async sync_wallet_with_address(e){const t={address:e,api_key:this.api_key};return(await this.httpClient.post("/sync_wallet_with_address",t).catch((e=>{if(void 0===e.response)throw new Error("no response");if(403===e.response.status)throw new Error("account does not exist");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}))).data}async getAddressTxs(e,t){let n={address:t,view_key:e};null!==this.api_key&&(n.api_key=this.api_key);const r=await this.httpClient.post("/get_address_txs",n).catch((e=>{if(void 0===e.response)throw new Error("no response");if(403===e.response.status)throw new Error("account does not exist");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}));return null==r.data.transactions&&(r.data.transactions=[]),r.data}async unspentOutputs(e,t){let n={address:t,view_key:e,amount:"0",dust_threshold:"2000000000",use_dust:!0,mixin:15,app_name:this.appName,app_version:this.appVersion};null!==this.api_key&&(n.api_key=this.api_key);return(await this.httpClient.post("/get_unspent_outs",n).catch((e=>{if(void 0===e.response)throw new Error("no response");if(403===e.response.status)throw new Error("account does not exist");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}))).data}async randomOutputs(e=1){if(e<1||isNaN(e))throw new Error("invalid amount");const t=[];for(let r=0;r<e;r++)t.push("0");let n={amounts:t,count:16,app_name:this.appName,app_version:this.appVersion};null!==this.api_key&&(n.api_key=this.api_key);return(await this.httpClient.post("/get_random_outs",n).catch((e=>{if(void 0===e.response)throw new Error("no response");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}))).data}async submitRawTx(e){let t={tx:e,app_name:this.appName,app_version:this.appVersion};null!==this.api_key&&(t.api_key=this.api_key);return(await this.httpClient.post("/submit_raw_tx",t).catch((e=>{if(void 0===e.response)throw new Error("no response");if(403===e.response.status)throw new Error("account does not exist");if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}))).data}async exchangeRates(){return(await this.httpClient.get("/get_exchange_rates").catch((e=>{if(void 0===e.response)throw new Error("no response");throw e}))).data}async getAddressInfo(e,t){let n={address:t,view_key:e};null!==this.api_key&&(n.api_key=this.api_key);return(await this.httpClient.post("/get_address_info",n).catch((e=>{if(void 0===e.response)throw new Error("no response");if(404===e.response.status)throw new Error(`${e.config.url} not found`);if(422===e.response.status)throw new Error("missing or invalid parameters");throw e}))).data}}},86141:(e,t,n)=>{n.r(t),n.d(t,{VaultBase:()=>S,VaultBaseChainOnly:()=>E});var r=n(72579),i=n.n(r),o=n(56666),a=n(1842),s=n.n(a),u=n(34795),d=n(87371),l=n(45754),c=n(11987),f=n(95058),p=n(6391),y=n.n(p),h=n(36393),g=n(13549),v=n(42547),m=n(13208),w=n(92431),b=n(40915),k=n(78489),x=n(69618),T=n(98514),I=n(14540),A=n(48834).Buffer;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}if(m.default.isExtensionUi)throw new Error("engine/VaultBase is not allowed imported from ui");var E=function(e){(0,l.default)(n,e);var t=K(n);function n(){return t.apply(this,arguments)}var r=n.prototype;return r.initProvider=function(){var e=(0,u.default)((function*(){var e=(yield this.getNetwork()).impl;s()(x.IMPL_MAPPINGS[e])||(this.engineProvider=yield this.engine.providerManager.getProvider(this.networkId))}));return function(){return e.apply(this,arguments)}}(),r.proxyJsonRPCCall=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.createClientFromURL=function(e){throw new b.NotImplemented},r.getEthersProvider=function(){var e=(0,u.default)((function*(){throw new b.NotImplemented}));return function(){return e.apply(this,arguments)}}(),r.getClientEndpointStatus=function(){var e=(0,u.default)((function*(e){var t=this.createClientFromURL(e),n=performance.now(),r=(yield t.getInfo()).bestBlockNumber;return{responseTime:Math.floor(performance.now()-n),latestBlock:r}}));return function(t){return e.apply(this,arguments)}}(),r.checkRpcBatchSupport=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.getDisplayAddress=function(){var e=(0,u.default)((function*(e){return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),r.validateAddress=function(){var e=(0,u.default)((function*(e){var t=yield this.engineProvider.verifyAddress(e),n=t.normalizedAddress;if(!t.isValid||!n)throw new b.InvalidAddress;return Promise.resolve(n)}));return function(t){return e.apply(this,arguments)}}(),r.validateImportedCredential=function(e){return Promise.resolve(this.settings.importedAccountEnabled&&/^(0x)?[0-9a-zA-Z]{64}$/.test(e))},r.validateWatchingCredential=function(){var e=(0,u.default)((function*(e){return Promise.resolve(this.settings.watchingAccountEnabled&&(yield this.engineProvider.verifyAddress(e)).isValid)}));return function(t){return e.apply(this,arguments)}}(),r.validateTokenAddress=function(){var e=(0,u.default)((function*(e){var t=yield this.engineProvider.verifyTokenAddress(e),n=t.normalizedAddress;if(!t.isValid||"undefined"===typeof n)throw new b.InvalidTokenAddress;return Promise.resolve(n)}));return function(t){return e.apply(this,arguments)}}(),r.validateCanCreateNextAccount=function(){var e=(0,u.default)((function*(e,t){return Promise.resolve(!0)}));return function(t,n){return e.apply(this,arguments)}}(),r.checkAccountExistence=function(){var e=(0,u.default)((function*(e,t){return Promise.resolve(!0)}));return function(t,n){return e.apply(this,arguments)}}(),r.getBalances=function(){var e=(0,u.default)((function*(e,t,n){return(yield this.engine.providerManager.getClient(this.networkId)).getBalances(e.map((function(e){var t=e.address,n=e.tokenAddress;return{address:t,coin:_({},"string"===typeof n?{tokenAddress:n}:{})}})))}));return function(t,n,r){return e.apply(this,arguments)}}(),r.getFrozenBalance=function(){var e=(0,u.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.password,e.useRecycleBalance,e.ignoreInscriptions,e.useCustomAddressesBalance;return 0}));return function(){return e.apply(this,arguments)}}(),r.fetchBalanceDetails=function(){var e=(0,u.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.password,e.useRecycleBalance,e.ignoreInscriptions,e.useCustomAddressesBalance;return Promise.resolve(void 0)}));return function(){return e.apply(this,arguments)}}(),r.getTransactionStatuses=function(e){return this.engine.providerManager.getTransactionStatuses(this.networkId,e)},r.getTransactionFeeInNative=function(e){return Promise.resolve("")},r.isContractAddress=function(){var e=(0,u.default)((function*(e){return!1}));return function(t){return e.apply(this,arguments)}}(),r.getAccountNameInfoMap=function(){var e=(0,u.default)((function*(){var e=yield this.getNetwork();return(0,k.getAccountNameInfoByImpl)(e.impl)}));return function(){return e.apply(this,arguments)}}(),r.canAutoCreateNextAccount=function(){var e=(0,u.default)((function*(e){return Promise.resolve(!1)}));return function(t){return e.apply(this,arguments)}}(),r.filterAccounts=function(){var e=(0,u.default)((function*(e){var t=e.accounts;e.networkId;return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),r.shouldChangeAccountWhenNetworkChanged=function(){var e=(0,u.default)((function*(e){e.previousNetwork,e.newNetwork,e.activeAccountId;return Promise.resolve({shouldReloadAccountList:!1,shouldChangeActiveAccount:!1})}));return function(t){return e.apply(this,arguments)}}(),r.getAccountNameInfosByImportedOrWatchingCredential=function(){var e=(0,u.default)((function*(e){return Promise.resolve([])}));return function(t){return e.apply(this,arguments)}}(),r.checkIsUnlimitedAllowance=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.checkIsApprovedForAll=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.checkIsBatchTransfer=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.getFeePricePerUnit=function(){var e=(0,u.default)((function*(){throw new b.NotImplemented}));return function(){return e.apply(this,arguments)}}(),r.fetchRpcChainId=function(){var e=(0,u.default)((function*(e){return null}));return function(t){return e.apply(this,arguments)}}(),r.getTxWaitingSeconds=function(){var e=(0,u.default)((function*(){return[]}));return function(){return e.apply(this,arguments)}}(),r.getUserNFTAssets=function(){var e=(0,u.default)((function*(e){e.serviceData;return Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),r.getTransactionDetail=function(){var e=(0,u.default)((function*(e){return Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),(0,d.default)(n)}(I.VaultContext),S=function(e){(0,l.default)(n,e);var t=K(n);function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).uuid=h.default.v4().toString(),e}var r=n.prototype;return r.init=function(){var e=(0,u.default)((function*(e){yield this.initProvider(),yield this.initKeyring(e)}));return function(t){return e.apply(this,arguments)}}(),r.initKeyring=function(){var e=(0,u.default)((function*(e){this.keyring=yield e.keyringCreator(this)}));return function(t){return e.apply(this,arguments)}}(),r.signTransaction=function(){var e=(0,u.default)((function*(e,t){return this.keyring.signTransaction(e,t)}));return function(t,n){return e.apply(this,arguments)}}(),r.signAndSendTransaction=function(){var e=(0,u.default)((function*(e,t,n){var r=yield this.signTransaction(e,t);return n?_(_({},r),{},{encodedTx:e.encodedTx}):this.broadcastTransaction(_(_({},r),{},{encodedTx:e.encodedTx}))}));return function(t,n,r){return e.apply(this,arguments)}}(),r.broadcastTransaction=function(){var e=(0,u.default)((function*(e,t){v.default.engine.info("broadcastTransaction START:",{rawTx:e.rawTx});var n=yield this.engine.providerManager.broadcastTransaction(this.networkId,e.rawTx,t);return v.default.engine.info("broadcastTransaction END:",{txid:n,rawTx:e.rawTx}),_(_({},e),{},{txid:n,encodedTx:e.encodedTx})}));return function(t,n){return e.apply(this,arguments)}}(),r.buildEncodedTxFromBatchTransfer=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.buildEncodedTxsFromSetApproveForAll=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.activateAccount=function(){var e=(0,u.default)((function*(){throw new b.NotImplemented}));return function(){return e.apply(this,arguments)}}(),r.activateToken=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.getTokenAllowance=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.batchTokensAllowance=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.getOutputAccount=function(){var e=(0,u.default)((function*(){var e=yield this.getDbAccount({noCache:!0});return{id:e.id,name:e.name,type:e.type,path:e.path,coinType:e.coinType,tokens:[],address:e.address,template:e.template,pubKey:i()(e,"pub","")}}));return function(){return e.apply(this,arguments)}}(),r.getAccountBalance=function(){var e=(0,u.default)((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=(yield this.getDbAccount()).address;return this.getBalances((t?[{address:i}]:[]).concat(e.map((function(e){return{address:i,tokenAddress:e}}))),n,r)}));return function(t){return e.apply(this,arguments)}}(),r.updatePendingTxs=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.getAccountNonce=function(){var e=(0,u.default)((function*(){return Promise.resolve(null)}));return function(){return e.apply(this,arguments)}}(),r.fixActionDirection=function(){var e=(0,u.default)((function*(e){var t,n,r,i,o=e.action,a=e.accountAddress;(o.direction=T.IDecodedTxDirection.OTHER,o.type===T.IDecodedTxActionType.NATIVE_TRANSFER)&&(o.direction=yield this.buildTxActionDirection({from:(null==(t=o.nativeTransfer)?void 0:t.from)||"",to:(null==(n=o.nativeTransfer)?void 0:n.to)||"",address:a}));o.type===T.IDecodedTxActionType.TOKEN_TRANSFER&&(o.direction=yield this.buildTxActionDirection({from:(null==(r=o.tokenTransfer)?void 0:r.from)||"",to:(null==(i=o.tokenTransfer)?void 0:i.to)||"",address:a}));return o}));return function(t){return e.apply(this,arguments)}}(),r.fixDecodedTx=function(){var e=(0,u.default)((function*(e){var t,n;e.createdAt=null!=(t=e.createdAt)?t:Date.now();var r=null==(n=e.encodedTx)?void 0:n.nonce;e.nonce=s()(r)?e.nonce:new(y())(r).toNumber();for(var i=e.owner,o=0;o<e.actions.length;o+=1){var a=e.actions[o];yield this.fixActionDirection({action:a,accountAddress:i})}if(e.outputActions)for(var u=0;u<e.outputActions.length;u+=1){var d=e.outputActions[u];yield this.fixActionDirection({action:d,accountAddress:i})}return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),r.fixHistoryTx=function(){var e=(0,u.default)((function*(e){return e.decodedTx=yield this.fixDecodedTx(e.decodedTx),Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),r.buildHistoryTx=function(){var e=(0,u.default)((function*(e){var t=e.historyTxToMerge,n=(e.encodedTx,e.decodedTx),r=e.signedTx,i=e.isSigner,o=e.isLocalCreated,a=(null==r?void 0:r.txid)||(null==n?void 0:n.txid)||"";if(!a)throw new Error("buildHistoryTx txid not found");var s=yield this.getAccountAddress();n.txid=a||n.txid,n.owner=s,i&&(n.signer=s),null!=r&&r.txKey&&(n.extraInfo?n.extraInfo.txKey=r.txKey:n.extraInfo={txKey:r.txKey});var u=_(_({id:`${this.networkId}_${a}_${this.accountId}`,isLocalCreated:Boolean(o)},t),{},{decodedTx:n});return u=yield this.fixHistoryTx(u),Promise.resolve(u)}));return function(t){return e.apply(this,arguments)}}(),r.checkIsScamHistoryTx=function(){var e=(0,u.default)((function*(e){return!1}));return function(t){return e.apply(this,arguments)}}(),r.fetchOnChainHistory=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.fixAddressCase=function(e){return Promise.resolve(e)},r.buildTxActionDirection=function(){var e=(0,u.default)((function*(e){var t=e.from,n=e.to,r=e.address;return t=yield this.fixAddressCase(t||""),n=yield this.fixAddressCase(n),r=yield this.fixAddressCase(r),t===n&&t===r?T.IDecodedTxDirection.SELF:t&&t===r?T.IDecodedTxDirection.OUT:n&&n===r?T.IDecodedTxDirection.IN:T.IDecodedTxDirection.OTHER}));return function(t){return e.apply(this,arguments)}}(),r.getNextNonce=function(){var e=(0,u.default)((function*(e,t){var n,r=null==(n=(yield this.engine.providerManager.getAddresses(e,[t.address]))[0])?void 0:n.nonce;if(s()(r))throw new b.OneKeyError("Get on-chain nonce failed.");yield this.engine.getHistory(e,t.id,void 0,!1);var i=yield w.default.history.getMaxPendingNonce({accountId:this.accountId,networkId:e}),o=yield w.default.history.getPendingNonceList({accountId:this.accountId,networkId:e}),a=Math.max(s()(i)?0:i+1,r);if(Number.isNaN(a)&&(a=r),a>r)for(var u=r;u<a;u+=1)if(!o.includes(u)){a=u;break}if(a<r&&(a=r),a-r>=g.HISTORY_CONSTS.PENDING_QUEUE_MAX_LENGTH)throw new b.PendingQueueTooLong(g.HISTORY_CONSTS.PENDING_QUEUE_MAX_LENGTH);return a}));return function(t,n){return e.apply(this,arguments)}}(),r.validateSendAmount=function(e,t,n){return Promise.resolve(!0)},r.notifyChainChanged=function(e,t){},r.getFetchBalanceAddress=function(e){return Promise.resolve(e.address)},r.getPrivateKeyByCredential=function(e){return Promise.resolve(A.from(e.startsWith("0x")?e.slice(2):e,"hex"))},r.getMinDepositAmount=function(){var e=(0,u.default)((function*(){return"0"}));return function(){return e.apply(this,arguments)}}(),r.specialCheckEncodedTx=function(){var e=(0,u.default)((function*(e){return{success:!0}}));return function(t){return e.apply(this,arguments)}}(),r.getAllUsedAddress=function(){var e=(0,u.default)((function*(){return Promise.resolve([])}));return function(){return e.apply(this,arguments)}}(),r.attachFeeInfoToDAppEncodedTx=function(){var e=(0,u.default)((function*(e){return Promise.resolve(e.encodedTx)}));return function(t){return e.apply(this,arguments)}}(),(0,d.default)(n)}(E)},562:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var r=n(96234),i=n(34795),o=n(87371),a=n(45754),s=n(11987),u=n(95058),d=n(6391),l=n.n(d),c=n(1187),f=n(76553),p=n(85397),y=n(96564),h=n(92431),g=n(40915),v=n(34756),m=n(97293),w=n(5851),b=n(98145),k=n(98514),x=n(86141),T=n(56666),I=n(91720),A=n.n(I),P=n(89644),_=n.n(P),K=n(64550),E=n(25364),S=n(38065),O=n(42759),N=n(87489),R=["abbey","abducts","ability","ablaze","abnormal","abort","abrasive","absorb","abyss","academy","aces","aching","acidic","acoustic","acquire","across","actress","acumen","adapt","addicted","adept","adhesive","adjust","adopt","adrenalin","adult","adventure","aerial","afar","affair","afield","afloat","afoot","afraid","after","against","agenda","aggravate","agile","aglow","agnostic","agony","agreed","ahead","aided","ailments","aimless","airport","aisle","ajar","akin","alarms","album","alchemy","alerts","algebra","alkaline","alley","almost","aloof","alpine","already","also","altitude","alumni","always","amaze","ambush","amended","amidst","ammo","amnesty","among","amply","amused","anchor","android","anecdote","angled","ankle","annoyed","answers","antics","anvil","anxiety","anybody","apart","apex","aphid","aplomb","apology","apply","apricot","aptitude","aquarium","arbitrary","archer","ardent","arena","argue","arises","army","around","arrow","arsenic","artistic","ascend","ashtray","aside","asked","asleep","aspire","assorted","asylum","athlete","atlas","atom","atrium","attire","auburn","auctions","audio","august","aunt","austere","autumn","avatar","avidly","avoid","awakened","awesome","awful","awkward","awning","awoken","axes","axis","axle","aztec","azure","baby","bacon","badge","baffles","bagpipe","bailed","bakery","balding","bamboo","banjo","baptism","basin","batch","bawled","bays","because","beer","befit","begun","behind","being","below","bemused","benches","berries","bested","betting","bevel","beware","beyond","bias","bicycle","bids","bifocals","biggest","bikini","bimonthly","binocular","biology","biplane","birth","biscuit","bite","biweekly","blender","blip","bluntly","boat","bobsled","bodies","bogeys","boil","boldly","bomb","border","boss","both","bounced","bovine","bowling","boxes","boyfriend","broken","brunt","bubble","buckets","budget","buffet","bugs","building","bulb","bumper","bunch","business","butter","buying","buzzer","bygones","byline","bypass","cabin","cactus","cadets","cafe","cage","cajun","cake","calamity","camp","candy","casket","catch","cause","cavernous","cease","cedar","ceiling","cell","cement","cent","certain","chlorine","chrome","cider","cigar","cinema","circle","cistern","citadel","civilian","claim","click","clue","coal","cobra","cocoa","code","coexist","coffee","cogs","cohesive","coils","colony","comb","cool","copy","corrode","costume","cottage","cousin","cowl","criminal","cube","cucumber","cuddled","cuffs","cuisine","cunning","cupcake","custom","cycling","cylinder","cynical","dabbing","dads","daft","dagger","daily","damp","dangerous","dapper","darted","dash","dating","dauntless","dawn","daytime","dazed","debut","decay","dedicated","deepest","deftly","degrees","dehydrate","deity","dejected","delayed","demonstrate","dented","deodorant","depth","desk","devoid","dewdrop","dexterity","dialect","dice","diet","different","digit","dilute","dime","dinner","diode","diplomat","directed","distance","ditch","divers","dizzy","doctor","dodge","does","dogs","doing","dolphin","domestic","donuts","doorway","dormant","dosage","dotted","double","dove","down","dozen","dreams","drinks","drowning","drunk","drying","dual","dubbed","duckling","dude","duets","duke","dullness","dummy","dunes","duplex","duration","dusted","duties","dwarf","dwelt","dwindling","dying","dynamite","dyslexic","each","eagle","earth","easy","eating","eavesdrop","eccentric","echo","eclipse","economics","ecstatic","eden","edgy","edited","educated","eels","efficient","eggs","egotistic","eight","either","eject","elapse","elbow","eldest","eleven","elite","elope","else","eluded","emails","ember","emerge","emit","emotion","empty","emulate","energy","enforce","enhanced","enigma","enjoy","enlist","enmity","enough","enraged","ensign","entrance","envy","epoxy","equip","erase","erected","erosion","error","eskimos","espionage","essential","estate","etched","eternal","ethics","etiquette","evaluate","evenings","evicted","evolved","examine","excess","exhale","exit","exotic","exquisite","extra","exult","fabrics","factual","fading","fainted","faked","fall","family","fancy","farming","fatal","faulty","fawns","faxed","fazed","feast","february","federal","feel","feline","females","fences","ferry","festival","fetches","fever","fewest","fiat","fibula","fictional","fidget","fierce","fifteen","fight","films","firm","fishing","fitting","five","fixate","fizzle","fleet","flippant","flying","foamy","focus","foes","foggy","foiled","folding","fonts","foolish","fossil","fountain","fowls","foxes","foyer","framed","friendly","frown","fruit","frying","fudge","fuel","fugitive","fully","fuming","fungal","furnished","fuselage","future","fuzzy","gables","gadget","gags","gained","galaxy","gambit","gang","gasp","gather","gauze","gave","gawk","gaze","gearbox","gecko","geek","gels","gemstone","general","geometry","germs","gesture","getting","geyser","ghetto","ghost","giant","giddy","gifts","gigantic","gills","gimmick","ginger","girth","giving","glass","gleeful","glide","gnaw","gnome","goat","goblet","godfather","goes","goggles","going","goldfish","gone","goodbye","gopher","gorilla","gossip","gotten","gourmet","governing","gown","greater","grunt","guarded","guest","guide","gulp","gumball","guru","gusts","gutter","guys","gymnast","gypsy","gyrate","habitat","hacksaw","haggled","hairy","hamburger","happens","hashing","hatchet","haunted","having","hawk","haystack","hazard","hectare","hedgehog","heels","hefty","height","hemlock","hence","heron","hesitate","hexagon","hickory","hiding","highway","hijack","hiker","hills","himself","hinder","hippo","hire","history","hitched","hive","hoax","hobby","hockey","hoisting","hold","honked","hookup","hope","hornet","hospital","hotel","hounded","hover","howls","hubcaps","huddle","huge","hull","humid","hunter","hurried","husband","huts","hybrid","hydrogen","hyper","iceberg","icing","icon","identity","idiom","idled","idols","igloo","ignore","iguana","illness","imagine","imbalance","imitate","impel","inactive","inbound","incur","industrial","inexact","inflamed","ingested","initiate","injury","inkling","inline","inmate","innocent","inorganic","input","inquest","inroads","insult","intended","inundate","invoke","inwardly","ionic","irate","iris","irony","irritate","island","isolated","issued","italics","itches","items","itinerary","itself","ivory","jabbed","jackets","jaded","jagged","jailed","jamming","january","jargon","jaunt","javelin","jaws","jazz","jeans","jeers","jellyfish","jeopardy","jerseys","jester","jetting","jewels","jigsaw","jingle","jittery","jive","jobs","jockey","jogger","joining","joking","jolted","jostle","journal","joyous","jubilee","judge","juggled","juicy","jukebox","july","jump","junk","jury","justice","juvenile","kangaroo","karate","keep","kennel","kept","kernels","kettle","keyboard","kickoff","kidneys","king","kiosk","kisses","kitchens","kiwi","knapsack","knee","knife","knowledge","knuckle","koala","laboratory","ladder","lagoon","lair","lakes","lamb","language","laptop","large","last","later","launching","lava","lawsuit","layout","lazy","lectures","ledge","leech","left","legion","leisure","lemon","lending","leopard","lesson","lettuce","lexicon","liar","library","licks","lids","lied","lifestyle","light","likewise","lilac","limits","linen","lion","lipstick","liquid","listen","lively","loaded","lobster","locker","lodge","lofty","logic","loincloth","long","looking","lopped","lordship","losing","lottery","loudly","love","lower","loyal","lucky","luggage","lukewarm","lullaby","lumber","lunar","lurk","lush","luxury","lymph","lynx","lyrics","macro","madness","magically","mailed","major","makeup","malady","mammal","maps","masterful","match","maul","maverick","maximum","mayor","maze","meant","mechanic","medicate","meeting","megabyte","melting","memoir","menu","merger","mesh","metro","mews","mice","midst","mighty","mime","mirror","misery","mittens","mixture","moat","mobile","mocked","mohawk","moisture","molten","moment","money","moon","mops","morsel","mostly","motherly","mouth","movement","mowing","much","muddy","muffin","mugged","mullet","mumble","mundane","muppet","mural","musical","muzzle","myriad","mystery","myth","nabbing","nagged","nail","names","nanny","napkin","narrate","nasty","natural","nautical","navy","nearby","necklace","needed","negative","neither","neon","nephew","nerves","nestle","network","neutral","never","newt","nexus","nibs","niche","niece","nifty","nightly","nimbly","nineteen","nirvana","nitrogen","nobody","nocturnal","nodes","noises","nomad","noodles","northern","nostril","noted","nouns","novelty","nowhere","nozzle","nuance","nucleus","nudged","nugget","nuisance","null","number","nuns","nurse","nutshell","nylon","oaks","oars","oasis","oatmeal","obedient","object","obliged","obnoxious","observant","obtains","obvious","occur","ocean","october","odds","odometer","offend","often","oilfield","ointment","okay","older","olive","olympics","omega","omission","omnibus","onboard","oncoming","oneself","ongoing","onion","online","onslaught","onto","onward","oozed","opacity","opened","opposite","optical","opus","orange","orbit","orchid","orders","organs","origin","ornament","orphans","oscar","ostrich","otherwise","otter","ouch","ought","ounce","ourselves","oust","outbreak","oval","oven","owed","owls","owner","oxidant","oxygen","oyster","ozone","pact","paddles","pager","pairing","palace","pamphlet","pancakes","paper","paradise","pastry","patio","pause","pavements","pawnshop","payment","peaches","pebbles","peculiar","pedantic","peeled","pegs","pelican","pencil","people","pepper","perfect","pests","petals","phase","pheasants","phone","phrases","physics","piano","picked","pierce","pigment","piloted","pimple","pinched","pioneer","pipeline","pirate","pistons","pitched","pivot","pixels","pizza","playful","pledge","pliers","plotting","plus","plywood","poaching","pockets","podcast","poetry","point","poker","polar","ponies","pool","popular","portents","possible","potato","pouch","poverty","powder","pram","present","pride","problems","pruned","prying","psychic","public","puck","puddle","puffin","pulp","pumpkins","punch","puppy","purged","push","putty","puzzled","pylons","pyramid","python","queen","quick","quote","rabbits","racetrack","radar","rafts","rage","railway","raking","rally","ramped","randomly","rapid","rarest","rash","rated","ravine","rays","razor","react","rebel","recipe","reduce","reef","refer","regular","reheat","reinvest","rejoices","rekindle","relic","remedy","renting","reorder","repent","request","reruns","rest","return","reunion","revamp","rewind","rhino","rhythm","ribbon","richly","ridges","rift","rigid","rims","ringing","riots","ripped","rising","ritual","river","roared","robot","rockets","rodent","rogue","roles","romance","roomy","roped","roster","rotate","rounded","rover","rowboat","royal","ruby","rudely","ruffled","rugged","ruined","ruling","rumble","runway","rural","rustled","ruthless","sabotage","sack","sadness","safety","saga","sailor","sake","salads","sample","sanity","sapling","sarcasm","sash","satin","saucepan","saved","sawmill","saxophone","sayings","scamper","scenic","school","science","scoop","scrub","scuba","seasons","second","sedan","seeded","segments","seismic","selfish","semifinal","sensible","september","sequence","serving","session","setup","seventh","sewage","shackles","shelter","shipped","shocking","shrugged","shuffled","shyness","siblings","sickness","sidekick","sieve","sifting","sighting","silk","simplest","sincerely","sipped","siren","situated","sixteen","sizes","skater","skew","skirting","skulls","skydive","slackens","sleepless","slid","slower","slug","smash","smelting","smidgen","smog","smuggled","snake","sneeze","sniff","snout","snug","soapy","sober","soccer","soda","software","soggy","soil","solved","somewhere","sonic","soothe","soprano","sorry","southern","sovereign","sowed","soya","space","speedy","sphere","spiders","splendid","spout","sprig","spud","spying","square","stacking","stellar","stick","stockpile","strained","stunning","stylishly","subtly","succeed","suddenly","suede","suffice","sugar","suitcase","sulking","summon","sunken","superior","surfer","sushi","suture","swagger","swept","swiftly","sword","swung","syllabus","symptoms","syndrome","syringe","system","taboo","tacit","tadpoles","tagged","tail","taken","talent","tamper","tanks","tapestry","tarnished","tasked","tattoo","taunts","tavern","tawny","taxi","teardrop","technical","tedious","teeming","tell","template","tender","tepid","tequila","terminal","testing","tether","textbook","thaw","theatrics","thirsty","thorn","threaten","thumbs","thwart","ticket","tidy","tiers","tiger","tilt","timber","tinted","tipsy","tirade","tissue","titans","toaster","tobacco","today","toenail","toffee","together","toilet","token","tolerant","tomorrow","tonic","toolbox","topic","torch","tossed","total","touchy","towel","toxic","toyed","trash","trendy","tribal","trolling","truth","trying","tsunami","tubes","tucks","tudor","tuesday","tufts","tugs","tuition","tulips","tumbling","tunnel","turnip","tusks","tutor","tuxedo","twang","tweezers","twice","twofold","tycoon","typist","tyrant","ugly","ulcers","ultimate","umbrella","umpire","unafraid","unbending","uncle","under","uneven","unfit","ungainly","unhappy","union","unjustly","unknown","unlikely","unmask","unnoticed","unopened","unplugs","unquoted","unrest","unsafe","until","unusual","unveil","unwind","unzip","upbeat","upcoming","update","upgrade","uphill","upkeep","upload","upon","upper","upright","upstairs","uptight","upwards","urban","urchins","urgent","usage","useful","usher","using","usual","utensils","utility","utmost","utopia","uttered","vacation","vague","vain","value","vampire","vane","vapidly","vary","vastness","vats","vaults","vector","veered","vegan","vehicle","vein","velvet","venomous","verification","vessel","veteran","vexed","vials","vibrate","victim","video","viewpoint","vigilant","viking","village","vinegar","violin","vipers","virtual","visited","vitals","vivid","vixen","vocal","vogue","voice","volcano","vortex","voted","voucher","vowels","voyage","vulture","wade","waffle","wagtail","waist","waking","wallets","wanted","warped","washing","water","waveform","waxing","wayside","weavers","website","wedge","weekday","weird","welders","went","wept","were","western","wetsuit","whale","when","whipped","whole","wickets","width","wield","wife","wiggle","wildly","winter","wipeout","wiring","wise","withdrawn","wives","wizard","wobbly","woes","woken","wolf","womanly","wonders","woozy","worry","wounded","woven","wrap","wrist","wrong","yacht","yahoo","yanks","yard","yawning","yearbook","yellow","yesterday","yeti","yields","yodel","yoga","younger","yoyo","zapped","zeal","zebra","zero","zesty","zigzags","zinger","zippers","zodiac","zombie","zones","zoom"];function j(e){for(var t=[],n="",r=0;r<32;r+=4){for(var i=0,o=3;o>=0;o-=1)i=256*i+e[r+o];var a=i%R.length,s=((i/R.length|0)+a)%R.length,u=(((i/R.length|0)/R.length|0)+s)%R.length;t.push(R[a]),t.push(R[s]),t.push(R[u]),n+=R[a].substring(0,3),n+=R[s].substring(0,3),n+=R[u].substring(0,3)}return t.push(t[function(e){for(var t=function(){for(var e,t=[],n=0;n<256;n+=1){e=n;for(var r=0;r<8;r+=1)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}(),n=-1,r=0;r<e.length;r+=1)n=n>>>8^t[255&(n^e.charCodeAt(r))];return(-1^n)>>>0}(n)%24]),t.join(" ")}var B,D,C=function(){var e=(0,i.default)((function*(){var e=yield(0,O.getMoneroCoreInstance)(),t=yield(0,N.getMoneroUtilInstance)(),n=new E.Helper(t,e),r=function(){var e=(0,i.default)((function*(e){var t=n.getKeyPairFromRawPrivatekey(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.default)((function*(e){var t=n.generateKeyImage(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=(0,i.default)((function*(e){var t=n.decodeAddress(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,i.default)((function*(e){var t=n.estimatedTxFee(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.default)((function*(e,t){return yield n.sendFunds(e,t)}));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.default)((function*(e){var t=n.seedAndkeysFromMnemonic(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}();return{getKeyPairFromRawPrivatekey:r,privateSpendKeyToWords:j,pubKeysToAddress:S.pubKeysToAddress,generateKeyImage:o,decodeAddress:a,estimatedTxFee:s,sendFunds:u,seedAndkeysFromMnemonic:d}}));return function(){return e.apply(this,arguments)}}();!function(){var e=(0,i.default)((function*(){return Promise.resolve(!0)}))}();function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,T.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}!function(e){e.GET_HEIGHT="get_height",e.GET_FEE_ESTIMATE="get_fee_estimate"}(B||(B={})),function(e){e.BASE64="base64",e.JSON_PARSED="jsonParsed"}(D||(D={}));var V=function(e){(0,a.default)(n,e);var t=z(n);function n(e){var n,r=e.rpcUrl,i=e.scanUrl,o=e.address,a=e.publicSpendKey,s=e.publicViewKey,u=e.privateSpendKey,d=e.privateViewKey;n=t.call(this);var l=_().create({baseURL:i});return n.rpc=new p.JsonRPCRequest(`${r}/json_rpc`),n.wallet=new(A())({url:i,httpClient:l}),n.publicSpendKey=a,n.publicViewKey=s,n.privateSpendKey=u,n.privateViewKey=d,n.rpcUrl=r,n.wallet.login(d,o,!0),n}var s=n.prototype;return s.getBalances=function(){var e=(0,i.default)((function*(e){try{var t,n,i=(0,r.default)(e,1)[0],o=yield C(),a=yield this.getAddressInfo(i.address),s=a.spent_outputs||[],u=new(l())(null!=(t=a.total_sent)?t:0),d=new(l())(null!=(n=a.total_received)?n:0);for(var c of s){var f=yield o.generateKeyImage({address:i.address,txPublicKey:c.tx_pub_key,privateViewKey:this.privateViewKey,privateSpendKey:this.privateSpendKey,publicSpendKey:this.publicSpendKey,outputIndex:String(c.out_index)});c.key_image!==f&&(u=u.minus(new(l())(c.amount)))}return[d.minus(u)]}catch(p){return console.log(p),[]}}));return function(t){return e.apply(this,arguments)}}(),s.getAddressInfo=function(){var e=(0,i.default)((function*(e){return yield this.wallet.getAddressInfo(this.privateViewKey,e)}));return function(t){return e.apply(this,arguments)}}(),s.getCurrentHeight=function(){var e=(0,i.default)((function*(){try{return(yield _().post(`${this.rpcUrl}/${B.GET_HEIGHT}`)).data.height}catch(e){return 0}}));return function(){return e.apply(this,arguments)}}(),s.getHistory=function(){var e=(0,i.default)((function*(e){var t=yield C(),n=[],r=yield this.wallet.getAddressTxs(this.privateViewKey,e),i=r.transactions,o=r.blockchain_height;for(var a of i){var s,u,d=new(l())(null!=(s=a.total_received)?s:0),c=new(l())(null!=(u=a.total_sent)?u:0);for(var f of null!=(p=a.spent_outputs)?p:[]){var p;(yield t.generateKeyImage({address:e,txPublicKey:f.tx_pub_key,privateViewKey:this.privateViewKey,privateSpendKey:this.privateSpendKey,publicSpendKey:this.publicSpendKey,outputIndex:String(f.out_index)}))!==f.key_image&&(c=c.minus(f.amount))}if(o-a.height>=1&&d.plus(c).isGreaterThan(0)){var y,h=d.minus(c);if(h.isNegative())h=h.plus(null!=(y=a.fee)?y:0);n.push(F(F({},a),{},{amount:h.toFixed()}))}}return{txs:n,blockHeight:o}}));return function(t){return e.apply(this,arguments)}}(),s.getUnspentBalance=function(){var e=(0,i.default)((function*(e){var t=yield C(),n=new(l())(0),r=yield this.wallet.unspentOutputs(this.privateViewKey,e);for(var i of r.outputs){var o=yield t.generateKeyImage({address:e,txPublicKey:i.tx_pub_key,privateViewKey:this.privateViewKey,privateSpendKey:this.privateSpendKey,publicSpendKey:this.publicSpendKey,outputIndex:String(i.index)});o&&!i.spend_key_images.includes(o)&&(n=n.plus(i.amount))}return n}));return function(t){return e.apply(this,arguments)}}(),s.broadcastTransaction=function(){throw new g.NotImplemented},s.getAddresses=function(){throw new g.NotImplemented},s.getFeePricePerUnit=function(){throw new g.NotImplemented},s.getInfo=function(){throw new g.NotImplemented},s.getTransactionStatuses=function(){throw new g.NotImplemented},(0,o.default)(n)}(K.BaseClient);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var U=function(e){(0,a.default)(n,e);var t=H(n);function n(){return t.apply(this,arguments)}return(0,o.default)(n)}(n(17391).KeyringHardwareBase),W=n(68079),L=n(13549),G=n(78489),$=n(10887),q=n(18037),X=n(48834).Buffer;function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var J=function(e){(0,a.default)(n,e);var t=Y(n);function n(){return t.apply(this,arguments)}var s=n.prototype;return s.prepareAccounts=function(){var e=(0,i.default)((function*(e){var t=e.password,n=e.names,i=e.template,o=yield this.getNetwork(),a=(yield this.engine.dbApi.getCredential(this.walletId,t)).seed,s=yield C(),u=(0,m.slicePathTemplate)(i),d=u.pathPrefix,l=u.pathSuffix,f=(0,w.batchGetPrivateKeys)("ed25519",a,t,d,[l.replace("{index}","0")]),p=(0,r.default)(f,1)[0],y=(0,c.decrypt)(t,p.extendedKey.key);if(!y)throw new g.OneKeyInternalError("Unable to get raw private key.");var h=[],v=yield this.getNetworkImpl(),k=(0,G.getAccountNameInfoByTemplate)(v,i).prefix;for(var x of[0]){var T,I=yield s.getKeyPairFromRawPrivatekey({rawPrivateKey:y,index:x}),A=I.publicSpendKey,P=I.publicViewKey;if(!A||!P)throw new g.OneKeyInternalError("Unable to get public spend/view key.");var _=`${d}/${l.replace("{index}",x.toString())}`,K=s.pubKeysToAddress(o.isTestnet?q.MoneroNetTypeEnum.TestNet:q.MoneroNetTypeEnum.MainNet,0!==x,A,P),E=(n||[])[x]||`${k} #${x+1}`;h.push({id:`${this.walletId}--${_}`,name:E,type:b.AccountType.VARIANT,path:_,coinType:L.COINTYPE_XMR,pub:`${X.from(A).toString("hex")},${X.from(P).toString("hex")}`,address:"",addresses:(T={},T[this.networkId]=K,T)})}return h}));return function(t){return e.apply(this,arguments)}}(),s.signTransaction=function(){var e=(0,i.default)((function*(e,t){var n=t.password,i=void 0===n?"":n,o=yield this.getDbAccount(),a=yield C(),s=yield this.getClientApi(),u=(yield this.engine.dbApi.getCredential(this.walletId,i)).seed,d=(0,m.slicePathTemplate)(o.template),l=d.pathPrefix,f=d.pathSuffix,p=(0,w.batchGetPrivateKeys)("ed25519",u,i,l,[f.replace("{index}","0")]),y=(0,r.default)(p,1)[0],h=(0,c.decrypt)(i,y.extendedKey.key);if(!h)throw new g.OneKeyInternalError("Unable to get raw private key.");var v=yield a.getKeyPairFromRawPrivatekey({rawPrivateKey:h}),b=v.publicSpendKey,k=v.privateViewKey,x=v.privateSpendKey,T=e.encodedTx,I=(0,W.default)(T.destinations);T.shouldSweep&&(I=I.map((function(e){return{to_address:e.to_address,send_amount:"0"}})));var A={destinations:I,from_address_string:T.address,is_sweeping:T.shouldSweep,nettype:T.nettype,priority:T.priority,pub_spendKey_string:X.from(b||[]).toString("hex"),sec_spendKey_string:X.from(x).toString("hex"),sec_viewKey_string:X.from(k||[]).toString("hex"),fromWallet_didFailToBoot:!1,fromWallet_didFailToInitialize:!1,fromWallet_needsImport:!1,hasPickedAContact:!1,manuallyEnteredPaymentID:"",manuallyEnteredPaymentID_fieldIsVisible:!1,requireAuthentication:!1,resolvedAddress:"",resolvedAddress_fieldIsVisible:!1,resolvedPaymentID:"",resolvedPaymentID_fieldIsVisible:!1};return yield a.sendFunds(A,s.mymonero)}));return function(t,n){return e.apply(this,arguments)}}(),(0,o.default)(n)}($.KeyringHdBase),Q=n(55942),Z=n(48834).Buffer;function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var te=function(e){(0,a.default)(n,e);var t=ee(n);function n(){return t.apply(this,arguments)}var s=n.prototype;return s.prepareAccounts=function(){var e=(0,i.default)((function*(e){var t,n=e.name,r=e.privateKey,i=yield this.getNetwork(),o=yield C(),a=yield o.getKeyPairFromRawPrivatekey({rawPrivateKey:r,isPrivateSpendKey:!0}),s=a.publicSpendKey,u=a.publicViewKey;if(!s||!u)throw new g.OneKeyInternalError("Unable to get public spend/view key.");var d=o.pubKeysToAddress(i.isTestnet?q.MoneroNetTypeEnum.TestNet:q.MoneroNetTypeEnum.MainNet,!1,s,u);return Promise.resolve([{id:`imported--${L.COINTYPE_XMR}--${d}`,name:n||"",type:b.AccountType.VARIANT,path:"",coinType:L.COINTYPE_XMR,pub:`${Z.from(s).toString("hex")},${Z.from(u).toString("hex")}`,address:d,addresses:(t={},t[this.networkId]=d,t)}])}));return function(t){return e.apply(this,arguments)}}(),s.signTransaction=function(){var e=(0,i.default)((function*(e,t){var n=t.password,i=yield C(),o=yield this.getClientApi(),a=Object.values(yield this.getPrivateKeys(n||"")),s=(0,r.default)(a,1)[0],u=(0,c.decrypt)(n||"",s),d=yield i.getKeyPairFromRawPrivatekey({rawPrivateKey:u,isPrivateSpendKey:!0}),l=d.publicSpendKey,f=d.privateViewKey,p=d.privateSpendKey,y=e.encodedTx,h=(0,W.default)(y.destinations);y.shouldSweep&&(h=h.map((function(e){return{to_address:e.to_address,send_amount:"0"}})));var g={destinations:h,from_address_string:y.address,is_sweeping:y.shouldSweep,nettype:y.nettype,priority:y.priority,pub_spendKey_string:Z.from(l||[]).toString("hex"),sec_spendKey_string:Z.from(p).toString("hex"),sec_viewKey_string:Z.from(f||[]).toString("hex"),fromWallet_didFailToBoot:!1,fromWallet_didFailToInitialize:!1,fromWallet_needsImport:!1,hasPickedAContact:!1,manuallyEnteredPaymentID:"",manuallyEnteredPaymentID_fieldIsVisible:!1,requireAuthentication:!1,resolvedAddress:"",resolvedAddress_fieldIsVisible:!1,resolvedPaymentID:"",resolvedPaymentID_fieldIsVisible:!1};return yield i.sendFunds(g,o.mymonero)}));return function(t,n){return e.apply(this,arguments)}}(),(0,o.default)(n)}(Q.KeyringImportedBase);function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var re,ie=function(e){(0,a.default)(n,e);var t=ne(n);function n(){return t.apply(this,arguments)}return(0,o.default)(n)}(n(1625).KeyringWatchingBase),oe=n(41628);!function(e){e[e.SLOW=1]="SLOW",e[e.NORMAL=2]="NORMAL",e[e.FAST=3]="FAST",e[e.FASTEST=4]="FASTEST"}(re||(re={}));function ae(e,t){return e.mempool||null===e.height||void 0===e.height?k.IDecodedTxStatus.Pending:t-e.height>=10?k.IDecodedTxStatus.Confirmed:k.IDecodedTxStatus.Pending}var se=n(48834).Buffer;function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var de=function(e){(0,a.default)(n,e);var t=ue(n);function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).keyringMap={hd:J,hw:U,imported:te,watching:ie,external:ie},e.settings=oe.default,e.getPrivateKey=(0,y.memoizee)(function(){var t=(0,i.default)((function*(t,n,i){try{var o,a=n||"";if(t.startsWith("imported")){var s=Object.values(yield e.keyring.getPrivateKeys(a)),u=(0,r.default)(s,1)[0];o=(0,c.decrypt)(a,u).toString("hex")}else{var d=e.settings.accountNameInfo.default.template,l=(yield e.engine.dbApi.getCredential(e.walletId,a)).seed,f=(0,m.slicePathTemplate)(d),p=f.pathPrefix,y=f.pathSuffix,h=(0,w.batchGetPrivateKeys)("ed25519",l,a,p,[y.replace("{index}","0")]),v=(0,r.default)(h,1)[0];o=(0,c.decrypt)(a,v.extendedKey.key).toString("hex")}return null==i||i(!0),o}catch(b){throw b instanceof g.WrongPassword&&(null==i||i(!1)),b}}));return function(e,n,r){return t.apply(this,arguments)}}(),{max:1,promise:!0,maxAge:(0,f.getTimeDurationMs)({minute:5})}),e.getMoneroKeys=(0,y.memoizee)(function(){var e=(0,i.default)((function*(e,t,n){var r,i=yield C(),o=e.startsWith("imported"),a=0;o||(a=void 0===n?parseInt(null!=(r=e.split("/").pop())?r:"0"):n);return i.getKeyPairFromRawPrivatekey({rawPrivateKey:t,isPrivateSpendKey:o,index:a})}));return function(t,n,r){return e.apply(this,arguments)}}(),{max:1,primitive:!0,maxAge:(0,f.getTimeDurationMs)({minute:3}),promise:!0}),e.getRpcClient=(0,y.memoizee)(function(){var t=(0,i.default)((function*(t){var n=yield e.getRpcUrl();return new p.JsonRPCRequest(`${null!=t?t:n}/json_rpc`)}));return function(e){return t.apply(this,arguments)}}(),{primitive:!0,promise:!0,maxAge:(0,f.getTimeDurationMs)({minute:3})}),e.createXmrClient=(0,y.memoizee)((function(e,t,n,r,i,o,a){return new V({rpcUrl:e,scanUrl:t,address:n,publicSpendKey:r,publicViewKey:i,privateSpendKey:o,privateViewKey:a})}),{max:1,primitive:!0,maxAge:(0,f.getTimeDurationMs)({minute:3})}),e}var s=n.prototype;return s.getClient=function(){var e=(0,i.default)((function*(e){var t=e.password,n=e.accountId,r=e.address,i=e.passwordLoadedCallback,o=r;o||(o=(yield this.getOutputAccount()).address);var a=yield this.getRpcUrl(),s=yield this.getClientApi(),u=yield this.getPrivateKey(null!=n?n:this.accountId,t,i),d=yield this.getMoneroKeys(null!=n?n:this.accountId,u),l=d.publicSpendKey,c=d.publicViewKey,f=d.privateSpendKey,p=d.privateViewKey;return this.createXmrClient(a,s.mymonero,null!=r?r:o,se.from(l||"").toString("hex"),se.from(c||"").toString("hex"),se.from(f).toString("hex"),se.from(p).toString("hex"))}));return function(t){return e.apply(this,arguments)}}(),s.buildEncodedTxFromTransfer=function(){var e=(0,i.default)((function*(e){if(!e.to)throw new Error("Invalid transferInfo.to params");var t=yield this.getNetwork();return{destinations:[{to_address:e.to,send_amount:e.amount}],priority:re.FAST,address:e.from,nettype:t.isTestnet?q.MoneroNetTypeEnum.TestNet:q.MoneroNetTypeEnum.MainNet,paymentId:"",shouldSweep:!1}}));return function(t){return e.apply(this,arguments)}}(),s.fetchFeeInfo=function(){var e=(0,i.default)((function*(e){var t=yield this.getRpcClient(),n=yield C(),r=yield this.engine.getNetwork(this.networkId),i=(yield t.call("get_fee_estimate")).fee,o=yield n.estimatedTxFee({priority:String(e.priority),feePerByte:String(i)}),a=i;return{customDisabled:!0,limit:new(l())(null!=o?o:0).dividedToIntegerBy(i).toFixed(),prices:[new(l())(null!=a?a:0).shiftedBy(-r.feeDecimals).toFixed()],defaultPresetIndex:"0",feeSymbol:r.feeSymbol,feeDecimals:r.feeDecimals,nativeSymbol:r.symbol,nativeDecimals:r.decimals,tx:null}}));return function(t){return e.apply(this,arguments)}}(),s.updateEncodedTx=function(){var e=(0,i.default)((function*(e,t,n){return n.type===k.IEncodedTxUpdateType.transfer&&(e.destinations[0].send_amount=t.amount,e.shouldSweep=!0),Promise.resolve(e)}));return function(t,n,r){return e.apply(this,arguments)}}(),s.decodeTx=function(){var e=(0,i.default)((function*(e,t){var n=yield this.engine.getNetwork(this.networkId),r=yield this.getAccountAddress(),i=yield this.engine.getNativeTokenInfo(this.networkId),o=[];for(var a of e.destinations)o.push({type:k.IDecodedTxActionType.NATIVE_TRANSFER,nativeTransfer:{tokenInfo:i,from:e.address,to:a.to_address,amount:a.send_amount,amountValue:new(l())(a.send_amount).shiftedBy(n.decimals).toFixed(),extraInfo:null},direction:a.to_address===r?k.IDecodedTxDirection.SELF:k.IDecodedTxDirection.OUT});return{txid:e.tx_hash||"",owner:e.address||r,signer:e.address||r,nonce:0,actions:o,status:k.IDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,encodedTx:e,payload:t,extraInfo:null}}));return function(t,n){return e.apply(this,arguments)}}(),s.attachFeeInfoToEncodedTx=function(){var e=(0,i.default)((function*(e){return Promise.resolve(e.encodedTx)}));return function(t){return e.apply(this,arguments)}}(),s.buildUnsignedTxFromEncodedTx=function(){var e=(0,i.default)((function*(e){return Promise.resolve({inputs:[],outputs:[],payload:{encodedTx:e},encodedTx:e})}));return function(t){return e.apply(this,arguments)}}(),s.getExportedCredential=function(){var e=(0,i.default)((function*(e,t){if(this.accountId.startsWith("hd-")||this.accountId.startsWith("imported")){var n=yield C(),r=yield this.getPrivateKey(this.accountId,e),i=yield this.getMoneroKeys(this.accountId,r),o=i.privateSpendKey,a=i.privateViewKey;switch(t){case b.AccountCredentialType.PrivateSpendKey:return se.from(o).toString("hex");case b.AccountCredentialType.PrivateViewKey:return se.from(a).toString("hex");case b.AccountCredentialType.Mnemonic:default:return n.privateSpendKeyToWords(o)}}throw new g.OneKeyInternalError("Only credential of HD or imported accounts can be exported")}));return function(t,n){return e.apply(this,arguments)}}(),s.validateAddress=function(){var e=(0,i.default)((function*(e){var t=yield C(),n=yield this.getNetwork(),r=!1;try{r=!(yield t.decodeAddress({address:e,netType:n.isTestnet?"TESTNET":"MAINNET"})).err_msg}catch(o){r=!1}var i=r?e.toLowerCase():void 0;if(!r||"undefined"===typeof i)throw new g.InvalidAddress;return Promise.resolve(i)}));return function(t){return e.apply(this,arguments)}}(),s.fetchOnChainHistory=function(){var e=(0,i.default)((function*(e){var t=this,n=e.localHistory,r=e.password,o=e.passwordLoadedCallback,a=yield this.getClient({password:r,passwordLoadedCallback:o}),s=yield this.getNetwork(),u=yield this.getAccountAddress(),d=yield this.engine.getNativeTokenInfo(this.networkId),c=[],f=0;try{var p=yield a.getHistory(u);c=p.txs,f=p.blockHeight}catch(h){console.error(h)}var y=c.map(function(){var e=(0,i.default)((function*(e){try{var r,i,o=n.find((function(t){return t.decodedTx.txid===e.hash}));if(o&&o.decodedTx.isFinal)return null;var a,c=new(l())(e.amount),p="",y="",g=k.IDecodedTxDirection.OTHER,v=c.isPositive();if(v)g=k.IDecodedTxDirection.IN,p="unknown",y=u;else g=k.IDecodedTxDirection.OUT,p=u,y=(null==o?void 0:o.isLocalCreated)&&(null==(a=o.decodedTx.actions[0].nativeTransfer)?void 0:a.to)||"unknown";var m={txid:null!=(r=e.hash)?r:"",owner:u,signer:v?"unknown":u,nonce:0,actions:[{type:k.IDecodedTxActionType.NATIVE_TRANSFER,direction:g,nativeTransfer:{tokenInfo:d,from:p,to:y,amount:c.shiftedBy(-d.decimals).abs().toFixed(),amountValue:c.abs().toFixed(),extraInfo:null}}],status:ae(e,f),totalFeeInNative:void 0===e.fee?void 0:new(l())(e.fee).shiftedBy(-s.decimals).toFixed(),networkId:t.networkId,accountId:t.accountId,extraInfo:null==o?void 0:o.decodedTx.extraInfo};return m.updatedAt=new Date(e.timestamp).getTime(),m.createdAt=null!=(i=null==o?void 0:o.decodedTx.createdAt)?i:m.updatedAt,m.isFinal=m.status===k.IDecodedTxStatus.Confirmed,yield t.buildHistoryTx({decodedTx:m,historyTxToMerge:o})}catch(h){return console.error(h),Promise.resolve(null)}}));return function(t){return e.apply(this,arguments)}}());return(yield Promise.all(y)).filter(Boolean)}));return function(t){return e.apply(this,arguments)}}(),s.getOutputAccount=function(){var e=(0,i.default)((function*(){var e,t=yield this.getDbAccount({noCache:!0}),n={id:t.id,name:t.name,type:t.type,path:t.path,coinType:t.coinType,tokens:[],address:(null==(e=t.addresses)?void 0:e[this.networkId])||"",template:t.template};if(0===n.address.length&&(0,v.isAccountCompatibleWithNetwork)(t.id,this.networkId))try{var r=yield this.addressFromBase(t);n.address=r,yield this.engine.dbApi.updateAccountAddresses(t.id,this.networkId,r)}catch(i){}return n}));return function(){return e.apply(this,arguments)}}(),s.getAccountAddress=function(){var e=(0,i.default)((function*(){return(yield this.getOutputAccount()).address}));return function(){return e.apply(this,arguments)}}(),s.addressFromBase=function(){var e=(0,i.default)((function*(e){var t,n=yield C(),i=(yield this.getNetwork()).isTestnet,o=e.pub.split(","),a=(0,r.default)(o,2),s=a[0],u=a[1],d=!e.id.startsWith("imported")&&0!==parseInt(null!=(t=e.path.split("/").pop())?t:"0");return n.pubKeysToAddress(i?q.MoneroNetTypeEnum.TestNet:q.MoneroNetTypeEnum.MainNet,d,se.from(s,"hex"),se.from(u,"hex"))}));return function(t){return e.apply(this,arguments)}}(),s.getBalances=function(){var e=(0,i.default)((function*(e,t,n){var i=(0,r.default)(e,1)[0];return(yield this.getClient({password:t,accountId:i.accountId,address:i.address,passwordLoadedCallback:n})).getBalances([{address:i.address,coin:{}}])}));return function(t,n,r){return e.apply(this,arguments)}}(),s.broadcastTransaction=function(){var e=(0,i.default)((function*(e){return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),s.getClientEndpointStatus=function(){var e=(0,i.default)((function*(e){var t=yield this.getRpcClient(e),n=performance.now(),r=yield t.call("get_last_block_header");return{responseTime:Math.floor(performance.now()-n),latestBlock:r.block_header.height}}));return function(t){return e.apply(this,arguments)}}(),s.getFrozenBalance=function(){var e=(0,i.default)((function*(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).password,t=yield this.getClient({password:e}),n=(yield this.getOutputAccount()).address,i=(yield this.engine.getNativeTokenInfo(this.networkId)).decimals;try{var o,a=yield t.getBalances([{address:n,coin:{}}]),s=(0,r.default)(a,1)[0],u=yield t.getUnspentBalance(n),d=null==s?void 0:s.minus(u).shiftedBy(-i).toNumber();if(null!=s&&s.isGreaterThan(0)&&u.isZero()&&(d=-1),0===d){for(var l=!1,c=(yield h.default.history.getAccountHistory({accountId:this.accountId,networkId:this.networkId,isPending:!0,limit:10})).items,f=0,p=c.length;f<p;f=1){var y=c[f].decodedTx.actions[0];if(y.type===k.IDecodedTxActionType.NATIVE_TRANSFER&&(k.IDecodedTxDirection.OUT===y.direction||k.IDecodedTxDirection.SELF===y.direction)){l=!0;break}}l&&(d=-1)}return null!=(o=d)?o:0}catch(g){return 0}}));return function(){return e.apply(this,arguments)}}(),s.getPrivateKeyByCredential=function(){var e=(0,i.default)((function*(e){var t=yield C(),n=yield this.getNetwork(),r=yield t.seedAndkeysFromMnemonic({mnemonic:e,netType:n.isTestnet?"TESTNET":"MAINNET"});return se.from(r.seed,"hex")}));return function(t){return e.apply(this,arguments)}}(),s.validateImportedCredential=function(){var e=(0,i.default)((function*(e){if(this.settings.importedAccountEnabled){var t=yield C(),n=yield this.getNetwork();try{return(yield t.seedAndkeysFromMnemonic({mnemonic:e,netType:n.isTestnet?"TESTNET":"MAINNET"})).err_msg?yield Promise.resolve(!1):yield Promise.resolve(!0)}catch(r){return Promise.resolve(!1)}}return Promise.resolve(!1)}));return function(t){return e.apply(this,arguments)}}(),s.decodedTxToLegacy=function(e){return Promise.resolve({})},s.buildEncodedTxFromApprove=function(e){throw new Error("Method not implemented.")},s.updateEncodedTxTokenApprove=function(e,t){throw new Error("Method not implemented.")},s.fetchTokenInfos=function(e){throw new Error("Method not implemented.")},(0,o.default)(n)}(x.VaultBase)},65147:(e,t,n)=>{n.r(t),n.d(t,{KeyringBase:()=>d,KeyringBaseMock:()=>l});var r=n(34795),i=n(87371),o=n(45754),a=n(11987),s=n(95058);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var d=function(e){(0,o.default)(n,e);var t=u(n);function n(e){var n;return(n=t.call(this,e.options)).vault=e,n}return n.prototype.addressFromBase=function(){var e=(0,r.default)((function*(e){return this.vault.addressFromBase(e)}));return function(t){return e.apply(this,arguments)}}(),(0,i.default)(n)}(n(14540).VaultContext),l=function(e){(0,o.default)(n,e);var t=u(n);function n(){return t.apply(this,arguments)}return(0,i.default)(n)}(d)},17391:(e,t,n)=>{n.r(t),n.d(t,{KeyringHardwareBase:()=>c});var r=n(34795),i=n(87371),o=n(45754),a=n(11987),s=n(95058),u=n(99075),d=n(14817);function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var c=function(e){(0,o.default)(a,e);var t=l(a);function a(){return t.apply(this,arguments)}var s=a.prototype;return s.getHardwareInfo=function(){var e=(0,r.default)((function*(){var e,t,n,r=yield this.engine.getHWDeviceByWalletId(this.vault.walletId);return{connectId:null!=(e=null==r?void 0:r.mac)?e:"",deviceId:null!=(t=null==r?void 0:r.deviceId)?t:"",deviceType:null!=(n=null==r?void 0:r.deviceType)?n:""}}));return function(){return e.apply(this,arguments)}}(),s.getWalletPassphraseState=function(){var e=(0,r.default)((function*(){var e=yield this.engine.getWallet(this.vault.walletId);return{passphraseState:null==e?void 0:e.passphraseState,useEmptyPassphrase:!(0,d.isPassphraseWallet)(e)}}));return function(){return e.apply(this,arguments)}}(),s.getHardwareSDKInstance=function(){var e=(0,r.default)((function*(){var e,t,r,i,o;return null!=(o=yield null==(e=n.g)||null==(t=e.$backgroundApiProxy)||null==(r=t.backgroundApi)||null==(i=r.serviceHardware)||null==i.getSDKInstance?void 0:i.getSDKInstance())?o:u.HardwareSDK}));return function(){return e.apply(this,arguments)}}(),s.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},(0,i.default)(a)}(n(65147).KeyringBase)},10887:(e,t,n)=>{n.r(t),n.d(t,{KeyringHdBase:()=>y});var r=n(56666),i=n(34795),o=n(87371),a=n(45754),s=n(11987),u=n(95058),d=n(5851),l=n(40915);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,a.default)(n,e);var t=p(n);function n(){return t.apply(this,arguments)}var r=n.prototype;return r.getPrivateKeys=function(){var e=(0,i.default)((function*(e,t){var n=(yield this.getDbAccount()).path.split("/"),r=t||[n.pop()],i=n.join("/"),o=(yield this.engine.dbApi.getCredential(this.walletId,e)).seed;if("undefined"===typeof o)throw new l.OneKeyInternalError("Unable to get credential.");var a=(yield this.engine.providerManager.getChainInfoByNetworkId(this.networkId)).curve;return(0,d.batchGetPrivateKeys)(a,o,e,i,r).reduce((function(e,t){var n;return f(f({},e),{},((n={})[t.path]=t.extendedKey.key,n))}),{})}));return function(t,n){return e.apply(this,arguments)}}(),r.getAddress=function(){throw new Error("Method not implemented.")},r.batchGetAddress=function(){throw new Error("Method not implemented.")},r.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},(0,o.default)(n)}(n(80306).KeyringSoftwareBase)},55942:(e,t,n)=>{n.r(t),n.d(t,{KeyringImportedBase:()=>l});var r=n(34795),i=n(87371),o=n(45754),a=n(11987),s=n(95058),u=n(40915);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(e){(0,o.default)(n,e);var t=d(n);function n(){return t.apply(this,arguments)}var a=n.prototype;return a.getPrivateKeys=function(){var e=(0,r.default)((function*(e,t){if("undefined"!==typeof t)throw new u.NotImplemented("Getting private keys from extended private key");var n=(yield this.engine.dbApi.getCredential(this.accountId,e)).privateKey;if("undefined"===typeof n)throw new u.OneKeyInternalError("Unable to get credential.");return{"":n}}));return function(t,n){return e.apply(this,arguments)}}(),a.getAddress=function(){throw new Error("Method not implemented.")},a.batchGetAddress=function(){throw new Error("Method not implemented.")},a.prepareAccountByAddressIndex=function(){throw new Error("Method not implemented.")},(0,i.default)(n)}(n(80306).KeyringSoftwareBase)},80306:(e,t,n)=>{n.r(t),n.d(t,{KeyringSoftwareBase:()=>h});var r=n(96234),i=n(56666),o=n(34795),a=n(87371),s=n(45754),u=n(11987),d=n(95058),l=n(42547),c=n(40915);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=y(n);function n(){return t.apply(this,arguments)}var i=n.prototype;return i.signTransaction=function(){var e=(0,o.default)((function*(e,t){var n=t.password;if("undefined"===typeof n)throw new c.OneKeyInternalError("Software signing requires a password.");var r=yield this.getSigners(n,e.inputs.map((function(e){return e.address})));return l.default.engine.info("signTransaction",this.networkId,e),p(p({},yield this.engine.providerManager.signTransaction(this.networkId,e,r)),{},{encodedTx:e.encodedTx})}));return function(t,n){return e.apply(this,arguments)}}(),i.signMessage=function(){var e=(0,o.default)((function*(e,t){var n=this,i=t.password;if("undefined"===typeof i)throw new c.OneKeyInternalError("Software signing requires a password.");var o=yield this.getDbAccount(),a=Object.values(yield this.getSigners(i,[o.address])),s=(0,r.default)(a,1)[0];return l.default.engine.info("signMessage",this.networkId,e),Promise.all(e.map((function(e){return n.engine.providerManager.signMessage(n.networkId,e,s)})))}));return function(t,n){return e.apply(this,arguments)}}(),i.getAddress=function(){throw new Error("Method not implemented.")},i.batchGetAddress=function(){throw new Error("Method not implemented.")},i.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},(0,a.default)(n)}(n(65147).KeyringBase)},1625:(e,t,n)=>{n.r(t),n.d(t,{KeyringWatchingBase:()=>l});var r=n(34795),i=n(87371),o=n(45754),a=n(11987),s=n(95058),u=n(40915);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(e){(0,o.default)(n,e);var t=d(n);function n(){return t.apply(this,arguments)}var a=n.prototype;return a.signTransaction=function(){var e=(0,r.default)((function*(e,t){throw new u.OneKeyInternalError("signTransaction is not supported for watching accounts")}));return function(t,n){return e.apply(this,arguments)}}(),a.signMessage=function(){var e=(0,r.default)((function*(e,t){throw new u.OneKeyInternalError("signMessage is not supported for watching accounts")}));return function(t,n){return e.apply(this,arguments)}}(),a.getAddress=function(){throw new Error("Method not implemented.")},a.batchGetAddress=function(){throw new Error("Method not implemented.")},a.prepareAccountByAddressIndex=function(){throw new Error("Method not implemented.")},(0,i.default)(n)}(n(65147).KeyringBase)}}]);